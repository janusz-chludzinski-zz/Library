<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="basic-template :: head"></head>
    <body class="login-bg">
        <form action="" method="POST" class="user-form" id="login-form">
            <h1>Logowanie</h1>

            <i th:if="${message != null}" th:text="${message}" class="success-message"></i>

            <fieldset id="email-fieldset">
                <label for="email" >Email</label>
                <input type="email" name="email" id="email" onblur="isValidEmail()" autofocus>
                <i class="error-message" style="display: none"></i>
            </fieldset>

            <fieldset id="password-fieldset">
                <label for="password">Hasło</label>
                <input type="password" name="password" id="password" onblur="isValidPassword()">
                <i class="error-message" style="display: none"></i>
            </fieldset>

            <div th:if="${param.error}" class="error-message">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                <p>
                    Podany e-mail lub hasło są nieprawidłowe.
                </p>
            </div>

            <div th:if="${param.logout}" class="success-message">
                <i class="fa fa-info-circle" aria-hidden="true"></i>
                <p>
                    Zostałeś pomyślnie wylogowany.
                </p>
            </div>

            <fieldset id="submit-form">
                <!--<a th:href="@{/user/reset-password}">Przypomnij hasło</a>-->
                <button th:type="submit" th:formaction="@{/user/login }" th:method="POST" id="submit">Zaloguj</button>
            </fieldset>

            <div class="modal-footer">Nie masz jeszcze konta? <a th:href="@{/user/register}">Zarejestruj się</a></div>
        </form>
        <script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js}"></script>
        <script th:src="@{/js/validation.js}"></script>
    </body>
</html>